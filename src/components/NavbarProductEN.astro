---
import {
  Astronav,
  MenuItems,
  MenuIcon,
  StickyHeader,
  Dropdown,
  DropdownItems,
} from "astro-navbar";
import { Image } from "astro:assets";
import { t } from "i18next";
import Logo from "@components/icons/wislinLogo.astro";

const menuMex = [
  // {
  //   name: "Inicio",
  //   link: "/en/",
  // },
  {
    name: "Productos",
    link: "#productos",
  },
  {
    name: "Nosotros",
    link: "#nosotros",
  },
  {
    name: "Recetas",
    link: "#recetas",
  },
  {
    name: "Contacto",
    link: "#contacto",
  },
];
---

<StickyHeader
  class="sticky top-0 border-b z-20 transition-all"
  scrollY={50}
  defaultClass="border-transparent"
  activeClass="bg-white/80 border-gray-200 backdrop-blur-lg"
>
  <header class="lg:flex justify-between px-5 gap-5 mx-auto container">
    <Astronav closeOnClick>
      <div class="flex w-full lg:w-auto justify-between">
        <a href="/en/">
          <!-- Icono de la empresa -->
          <Logo class="w-48 h-32" alt="Logo" />
        </a>
        <div class="flex items-center lg:hidden">
          <!-- Icono Menu Mobile -->
          <MenuIcon class="w-8 h-8 text-gray-800" />
        </div>
      </div>
      <MenuItems class="hidden lg:flex">
        <!-- lista de los elementos del navbar -->
        <ul
          class="flex flex-col md:items-center px-6 text-xl lg:flex-row lg:gap-5 space-y-4 md:space-y-0"
        >
          <li>
            <a href="/en/productos" class="hover:text-red-500 hover:underline">
              Products
            </a>
          </li>

          <li>
            <a
              class="border border-blue-400 px-4 py-2 rounded-lg text-blue-400 hover:bg-blue-400 hover:text-white"
              href="/system/ventas"
            >
              Log in
            </a>
          </li>
          <li class="relative">
            <Dropdown class="group">
              <button
                class="flex justify-start items-center gap-2 border-red-500 border p-2 rounded-lg"
              >
                <img
                  src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg"
                  alt="US Flag"
                  class="w-12 h-6"
                />
                English
              </button>
              <DropdownItems>
                <div
                  class="lg:absolute bg-white hover:bg-slate-100 top-14 w-40 border shadow rounded p-2"
                >
                  <ul>
                    <li>
                      <a
                        href={Astro.url.pathname.startsWith("/en")
                          ? Astro.url.pathname.slice(3)
                          : Astro.url.pathname}
                        class="flex justify-start items-center gap-2 p-2 rounded-lg"
                      >
                        <img
                          src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg"
                          alt="Mexican Flag"
                          class="w-12 h-6"
                        />
                        Espa√±ol
                      </a>
                    </li>
                  </ul>
                </div>
              </DropdownItems>
            </Dropdown>
          </li>
        </ul>
      </MenuItems>
    </Astronav>
  </header></StickyHeader
>
<script>
  window.onload = function () {
    var htmlElement = document.querySelector("html");
    if (htmlElement) {
      htmlElement.style.scrollBehavior = "smooth";
    }
  };
</script>
